var content=(function(){"use strict";function C(t){return t}const a="ai-commentator-banner";function c(){return document.querySelector("video")}function m(){if(document.getElementById(a))return;const t=document.createElement("div");t.id=a,t.textContent="AI Commentary active â€” watching in sidebar",Object.assign(t.style,{position:"fixed",top:"0",left:"0",right:"0",zIndex:"999999",background:"linear-gradient(90deg, #2563eb, #7c3aed)",color:"white",textAlign:"center",padding:"8px 16px",fontSize:"13px",fontFamily:"system-ui, -apple-system, sans-serif",fontWeight:"600",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}),document.body.appendChild(t)}function g(){document.getElementById(a)?.remove()}function v(){const t=c();if(t)t.muted=!0;else{const e=new MutationObserver(()=>{const n=c();n&&(n.muted=!0,e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>e.disconnect(),1e4)}m()}function f(){const t=c();t&&(t.muted=!1),g()}const p={matches:["*://*.youtube.com/*"],runAt:"document_idle",main(){chrome.runtime.onMessage.addListener(t=>{t.type==="MUTE_TAB_VIDEO"?v():t.type==="UNMUTE_TAB_VIDEO"&&f()})}};function o(t,...e){}const b={debug:(...t)=>o(console.debug,...t),log:(...t)=>o(console.log,...t),warn:(...t)=>o(console.warn,...t),error:(...t)=>o(console.error,...t)},u=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;var E=class h extends Event{static EVENT_NAME=d("wxt:locationchange");constructor(e,n){super(h.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=n}};function d(t){return`${u?.runtime?.id}:content:${t}`}function w(t){let e,n;return{run(){e==null&&(n=new URL(location.href),e=t.setInterval(()=>{let i=new URL(location.href);i.href!==n.href&&(window.dispatchEvent(new E(i,n)),n=i)},1e3))}}}var S=class l{static SCRIPT_STARTED_MESSAGE_TYPE=d("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=w(this);receivedMessageIds=new Set;constructor(e,n){this.contentScriptName=e,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return u.runtime?.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,n){const i=setInterval(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearInterval(i)),i}setTimeout(e,n){const i=setTimeout(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearTimeout(i)),i}requestAnimationFrame(e){const n=requestAnimationFrame((...i)=>{this.isValid&&e(...i)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(e,n){const i=requestIdleCallback((...r)=>{this.signal.aborted||e(...r)},n);return this.onInvalidated(()=>cancelIdleCallback(i)),i}addEventListener(e,n,i,r){n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),e.addEventListener?.(n.startsWith("wxt:")?d(n):n,i,{...r,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),b.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:l.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){const n=e.data?.type===l.SCRIPT_STARTED_MESSAGE_TYPE,i=e.data?.contentScriptName===this.contentScriptName,r=!this.receivedMessageIds.has(e.data?.messageId);return n&&i&&r}listenForNewerScripts(e){let n=!0;const i=r=>{if(this.verifyScriptStartedEvent(r)){this.receivedMessageIds.add(r.data.messageId);const T=n;if(n=!1,T&&e?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",i),this.onInvalidated(()=>removeEventListener("message",i))}};function y(){}function s(t,...e){}const I={debug:(...t)=>s(console.debug,...t),log:(...t)=>s(console.log,...t),warn:(...t)=>s(console.warn,...t),error:(...t)=>s(console.error,...t)};return(async()=>{try{const{main:t,...e}=p;return await t(new S("content",e))}catch(t){throw I.error('The content script "content" crashed on startup!',t),t}})()})();
content;